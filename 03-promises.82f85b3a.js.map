{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAWC,SAASC,iBAAiB,SACrCC,EAAUF,SAASG,cAAc,UACvBH,SAASG,cAAc,QAC/BC,MAAQ,eAEhB,IAAMC,EAAgBN,EAAS,GACzBO,EAAeP,EAAS,GACxBQ,EAAYR,EAAS,GAc3B,SAASS,EAAaC,EAAaC,GACjC,IAAMC,EAAS,CACbC,MAAOH,EACPI,SAAUH,GAEZI,QAAQC,IAAIJ,E,CAGd,SAASK,EAAcJ,EAAOK,EAAMC,EAAQL,G,WAG1C,GAFAD,GAAgBK,GAChBJ,GAAsB,GACPK,EAIb,OAHAJ,QAAQC,IAAI,OACZlB,EAAAsB,OAAOC,QAAQ,MAAOC,KAAKC,oBAC3BC,eAGF,IAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,W,QAC1BC,YAAW,WACLJ,GACFhB,EAAaI,EAAOC,GACpBC,QAAQC,IAAI,uBAAwCc,OAAfhB,EAAS,QAAYgB,OAANjB,EAAM,OAC1Df,EAAAsB,OAAOC,QACL,uBAAwCS,OAAfhB,EAAS,QAAYgB,OAANjB,EAAM,MAC5CkB,EAAGR,eAGPR,QAAQC,IAAI,UAAWF,KAEvBL,EAAaI,EAAOC,GACpBC,QAAQC,IAAI,sBAAuCc,OAAfhB,EAAS,QAAYgB,OAANjB,EAAM,OACzDf,EAAAsB,OAAOY,QACL,sBAAqCF,OAAfhB,EAAS,QAAYgB,OAANjB,EAAM,MAC3CkB,EAAKR,gBAGTN,EAAcJ,EAAOK,EAAMC,EAAQL,E,GAClCD,E,IAlDPP,EAAcD,MAAQ,gBACtBE,EAAaF,MAAQ,gBACrBG,EAAUH,MAAQ,gBAElBC,EAAcD,MAAM4B,YAAc,OAClC1B,EAAaF,MAAM4B,YAAc,OACjCzB,EAAUH,MAAM4B,YAAc,OAE9BzB,EAAU0B,iBAAiB,SAAS,WAAM,IAC1C5B,EAAc4B,iBAAiB,SAAS,WAAM,IAC9C3B,EAAa2B,iBAAiB,SAAS,WAAM,IA2C7C/B,EAAQ+B,iBAAiB,SAEzB,SAAuBC,GACrBA,EAAMC,iBACNrB,QAAQC,IAAI,SAEZ,IAAMqB,EAAcC,OAAO9B,EAAU+B,OAC/BC,EAAaF,OAAOhC,EAAciC,OAClCE,EAAiBH,OAAO/B,EAAagC,OAE3CtB,EAAcuB,EAAYC,EAAgBJ,EADtB,GAEpBvC,EAAAsB,OAAOC,QAAQ,QAASC,KAAKC,c","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst inputRef = document.querySelectorAll('input');\nconst submRef = document.querySelector('button');\nconst formRef = document.querySelector('form');\nformRef.style = 'display:flex';\n\nconst firstDelayRef = inputRef[0];\nconst stepDelayRef = inputRef[1];\nconst amountRef = inputRef[2];\n\nfirstDelayRef.style = 'display:block';\nstepDelayRef.style = 'display:block';\namountRef.style = 'display:block';\n\nfirstDelayRef.style.marginRight = '30px';\nstepDelayRef.style.marginRight = '30px';\namountRef.style.marginRight = '30px';\n\namountRef.addEventListener('input', () => {});\nfirstDelayRef.addEventListener('input', () => {});\nstepDelayRef.addEventListener('input', () => {});\n\nfunction createObjekt(deleyObjekt, posicionObjekt) {\n  const result = {\n    delay: deleyObjekt,\n    position: posicionObjekt,\n  };\n  console.log(result);\n}\n\nfunction createPromise(delay, step, amount, position) {\n  delay = delay + step;\n  position = position + 1;\n  if (position > amount) {\n    console.log('End');\n    Notify.success('End', this.notifyOptions);\n    clearTimeout();\n    return;\n  }\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise(() => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        createObjekt(delay, position);\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        Notify.success(\n          `✅ Fulfilled promise ${position} in ${delay}ms`,\n          this.notifyOptions\n        );\n\n        console.log('resolve', position);\n      } else {\n        createObjekt(delay, position);\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        Notify.failure(\n          `❌ Rejected promise ${position} in ${delay}ms`,\n          this.notifyOptions\n        );\n      }\n      createPromise(delay, step, amount, position);\n    }, delay);\n  });\n}\nsubmRef.addEventListener('click', eventFunction);\n\nfunction eventFunction(event) {\n  event.preventDefault();\n  console.log('start');\n\n  const amountStart = Number(amountRef.value);\n  const delayStart = Number(firstDelayRef.value);\n  const stepDelayStart = Number(stepDelayRef.value);\n  let positionStart = 0;\n  createPromise(delayStart, stepDelayStart, amountStart, positionStart);\n  Notify.success('start', this.notifyOptions);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$inputRef","document","querySelectorAll","$ce04d3a99e08e73b$var$submRef","querySelector","style","$ce04d3a99e08e73b$var$firstDelayRef","$ce04d3a99e08e73b$var$stepDelayRef","$ce04d3a99e08e73b$var$amountRef","$ce04d3a99e08e73b$var$createObjekt","deleyObjekt","posicionObjekt","result","delay","position","console","log","$ce04d3a99e08e73b$var$createPromise","step","amount","Notify","success","this","notifyOptions","clearTimeout","shouldResolve","Math","random","Promise","setTimeout","concat","_this1","failure","marginRight","addEventListener","event","preventDefault","amountStart","Number","value","delayStart","stepDelayStart"],"version":3,"file":"03-promises.82f85b3a.js.map"}